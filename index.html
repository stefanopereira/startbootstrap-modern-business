<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Startbootstrap-modern-business by ironsummitmedia</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/github-light.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1 class="header">Startbootstrap-modern-business</h1>
        <p class="header"></p>

       

        <p class="header">This project is maintained by <a class="header name" href="https://github.com/ironsummitmedia">ironsummitmedia</a></p>


      </header>
      <section>
       <em><strong>1.9.3 and 2.0 Only - NT Only - What should I do if I was unable to upgrade </strong><strong>successfully to version 2.0 and I don’t have a standard, full system backup, just the </strong><strong>registry backup made during the upgrade with Setup.exe?</strong></em>

You should have made a complete backup of your Post.Office system before upgrading (as instructed in the README.TXT and RELNOTES.TXT files). If you did not make a standard, full system backup as instructed, you will need to rely on the partial backup which was made during the upgrade.

Note: The registry backup made during the upgrade copies registry information only. Your mailbox directories and the executable directory were <em>not</em> backed up, and some 2.0 conversion tasks may have been performed on them. The converted executable directory cannot be used; it should be moved and replaced with the 1.9.3b version of the executables which can be downloaded directly from our ftp site. You can still use the converted mailbox directories, but with the following caution: those users whose mail clients utilize the POP3 command "last" (i.e. Zmail) may experience the re-downloading of mail stored on the server the first time that their client contacts the server after the restoration.

The instructions that follow will guide you through the restoration process. They assume that you are using the registry backup files created during the upgrade. After your system is restored and working, please contact for assistance with the 2.0 upgrade.
<ol>
 	<li>Make sure that you are logged in as the Local Administrator of your host. Logging in as the Domain Administrator is not sufficient unless the machine you are using is a Primary Domain Controller.</li>
 	<li>Shutdown the Post.Office Service from within Program Manager:</li>
</ol>
<ul>
 	<li>Double click on the Control Panel icon.</li>
 	<li>Double click on the Services icon.</li>
 	<li>Locate and select the list entry for the post.office MTA.</li>
 	<li>Click on the Stop button.</li>
</ul>
<ol>
 	<li>Set permissions on the Post.Office Registry key to allow Full Control to Everyone:</li>
</ol>
<ul>
 	<li>Launch a DOS shell.</li>
 	<li>Change directory to the location in which the Post.Office executables reside.
Note: The poperms script must reside there as well.</li>
 	<li>Type: poperms -r -Everyone -u</li>
</ul>
<ol>
 	<li>Back up the 2.0 version of the Post.Office Registry key:</li>
</ol>
<ul>
 	<li>Launch REGEDT32.exe.</li>
 	<li>Follow the path HKEY_LOCAL_MACHINE/SOFTWARE/software.com
to locate the Post.Office key.</li>
 	<li>Select the Post.Office key.</li>
 	<li>Pull down the Registry menu and choose the Save Key command.
(suggested name to save under: Post.OfficeRegKey2.0)</li>
</ul>
<ol>
 	<li>Restore the prior version of the Post.Office Registry key that was saved during the upgrade:</li>
</ol>
<ul>
 	<li>Make sure that the Post.Office key remains selected (highlighted).</li>
 	<li>Pull down the Registry menu and choose the Restore command.</li>
 	<li>Locate and select your automatic backup copy of the prior Post.Office Registry key (post-office-Reg) then click on the OK button.
(It’s located by default in \winnt35\system32\spool\PostOfficeBackup.)</li>
 	<li>Confirm your desire to overwrite the current key by clicking on the YES button of the alert box that appears.</li>
</ul>
<ol>
 	<li>Set permissions on the Post.Office Registry key back to the default permissions for your Post.Office-User:</li>
</ol>
<ul>
 	<li>Return to the DOS command line (within the Post.Office executables directory) and type:
poperms -r -u</li>
</ul>
<ol>
 	<li>Download the 1.9.3b executable archive file by following the ftp instructions below:</li>
</ol>
<ul>
 	<li>From the DOS prompt, change to the directory immediately above the Post.Office executables directory. For example, if your Post.Office executables directory is \win32app\post.office, please cd to \win32app.</li>
 	<li>Type: ftp ftp.software.com</li>
 	<li>Log in as anonymous.</li>
 	<li>Use your e-mail address as the password.</li>
 	<li>Change directory to the location of the appropriate package by typing
cd ftp\po20utils\nt\&lt;yourplatform&gt;</li>
 	<li>Download the executables in binary mode by typing:
bin
get poexec-&lt;platform&gt;-1.9.3b.zip</li>
</ul>
<ol>
 	<li>Set file system permissions for your Post.Office Executables, Configuration and Mailbox directories to allow Everyone to have Full Control.

Note: The exact location of the Configuration and Mailbox directories can be found via the Program Manager by double clicking on the Main\Control Panel\Post.Office icons in the order indicated. When the Post.Office applet window appears look at the bottom to determine the locations of the Post.Office Directory containing configuration information and the Mailbox Directory containing your mailbox information . (Do <em>not</em> use the Post.Office executables contained in the Program Directory listed here. Instead use the 1.9.3b executables obtained via ftp.)</li>
</ol>
<ul>
 	<li>type: poperms -f -Everyone -u</li>
</ul>
<ol>
 	<li>Back up the Post.Office 2.0 executables you have now.</li>
</ol>
<ul>
 	<li>Launch the File Manager.</li>
 	<li>Locate and select the Post.Office directory.
(the default location is \win32app\Post.Office)</li>
 	<li>From the File menu choose the Move command.</li>
 	<li>Type the new name and location in the To: field provided, then click on the OK button.(suggested name and location is <em>anotherhost</em>\temp\Post.Office2.0exec)</li>
</ul>
<ol>
 	<li>Restore the 1.9.3b Post.Office executables (the ones you just downloaded).</li>
</ol>
<ul>
 	<li>From the File Manger, locate the Post.Office 1.9.3b executables archive file and unzip it.</li>
 	<li>This will create a new Post.Office directory containing 1.9.3b executables.</li>
 	<li>You will need to move your poperms script from the backup directory made in Step 9 (suggested name and location was <em>anotherhost</em>\temp\Post.Office2.0exec)
to the restored directory.</li>
</ul>
<ol>
 	<li>Run the poperms tool to set file system permissions for your Post.Office Executables, Configuration and Mailbox directories back to the secure default settings where your Post.Office-user has Full Control by typing:
poperms -f -u</li>
 	<li>Startup the Post.Office Service by returning to the Services window, selecting the post.office MTA entry from the list, and clicking on the Start button.

Note: This procedure does not alter the Post.Office applet icon. You’ll see the new 2.0 icon, but all other indications will correctly reflect the fact that you are running Post.Office version 1.9.3b.</li>
</ol>
<em><strong>1.9.3 and 2.0 Only - UNIX Only - I was unable to upgrade successfully to version 2.0. </strong><strong>How do I restore Post.Office from my standard, full system backup files?</strong></em>

If you attempted to install the 2.0 release of Post.Office and received the following error message:

pkgadd: ERROR: preinstall script did not complete successfully

Installation of &lt;SCOM-MTA&gt; failed.

you will be left in the pkgadd utility. Please type quit or it could attempt your conversion again. This message indicates that the conversion of your account database did not succeed. You will have to restore your system to the previous 1.9.3 version of Post.Office. After your system is restored and working, please contact Support@Software.com. We will need to evaluate your problem and then assist you with the 2.0 upgrade.

<strong>Restoration Instructions for Solaris</strong><strong>:</strong>

The easiest way to restore is if you have made a total backup of your Post.Office including:
<ul>
 	<li>Post.Office Configuration information: &lt;/var/spool/&gt;Post.Office</li>
 	<li>Post.Office Mailbox information: &lt;/var/spool/&gt;Mailbox</li>
 	<li>Your Configuration File: /etc/post.office.conf</li>
</ul>
Assuming you took that precaution (as instructed in the README.TXT and RELNOTES.TXT files), please do the following:
<ol>
 	<li>If Post.Office is running please shut it down by typing:
&lt;/opt&gt;/Post.Office shutdown</li>
 	<li>Copy the existing, half-upgraded versions of the directories and files listed above to another location before attempting restoration.</li>
 	<li>Restore the two file system directories containing Post.Office Configuration information and Post.Office Mailbox information, as well as the Configuration file from your backup on top of the existing half- upgraded versions.

Note: You might run into ownership or permission problems if you didn’t back up or restore with the original permissions. It’s possible that executing a chown on the copied files and assigning ownership to your post.office user (mta) will be enough. (The standard permissions for UNIX are listed elsewhere in this FAQ for your review.)</li>
 	<li>Remove the 2.0 executables with pkgrm:
pkgrm SCOM-MTA</li>
 	<li>Download the 1.9.3b version of Post.Office for Solaris from our web site to a temporary directory.</li>
 	<li>Uncompress the file you downloaded and expand the resulting archive file to create the Post.Office package (SCOM-MTA) by typing :

cd /var/tmp/PO1.9.3b
uncompress post_office-solaris2-v1_9_3b_tar.Z
tar xvpf post_office-solaris2-v1_9_3b_tar</li>
 	<li>From the location in which you stored it, install the 1.9.3b package by typing:
pkgadd -d . SCOM-MTA

<strong>Caution:</strong> The upgrade program will ask if you wish to change configuration information. You should answer "no".</li>
 	<li>If you are currently using Program Delivery you will need to re-enable that feature by typing:</li>
</ol>
chmod u+s /opt/post.office/local/Program-Deliver

rm /opt/post.office/trusted/NO-PROGRAM-DELIVERIES

<strong>Caution:</strong> There are security issues associated with the use of Program Delivery. Please read Appendix G of the Post.Office manual to ensure you understand those issues before enabling this feature.
<ol start="9">
 	<li>Run the Post.Office configuration program: /opt/post.office/Install</li>
</ol>
This will restore your account information and upgrade your executables back to the 1.9.3b version of Post.Office.

<strong>Restoration Instructions for SunOS/Irix</strong><strong>:</strong>

The easiest way to restore is if you have made a total backup of your Post.Office including:
<ul>
 	<li>Post.Office Executables: &lt;/usr/local//&gt;Post.Office</li>
 	<li>Post.Office Configuration information: &lt;/var/spool/&gt;Post.Office</li>
 	<li>Post.Office Mailbox information: &lt;/var/spool/&gt;Mailbox</li>
 	<li>Your Configuration File: /etc/post.office.conf</li>
</ul>
Assuming you took that precaution (as instructed in the README.TXT and RELNOTES.TXT files), please:
<ol>
 	<li>If Post.Office is running shut it down by typing:
&lt;/usr&gt;/local/Post.Office shutdown</li>
 	<li>Copy the existing, half-upgraded versions of the directories and files listed above to another location before attempting restoration.</li>
 	<li>Restore the three file system directories containing Post.Office Executables, Post.Office Configuration information, and Post.Office Mailbox information, as well as the configuration file from your backup on top of the existing half- upgraded versions.</li>
</ol>
<em>Note: You might run into permission problems if you didn’t backup or restore with the </em><em>original permissions. The standard permissions for UNIX are listed elsewhere in this FAQ </em><em>for your review. Once you are restored and your permissions are properly set, start the </em><em>Post.Office server (i.e. &lt;/usr/local/&gt;Post.Office/Post.Office startup).</em>

<em><strong>1.9.3 and 2.0 Only - UNIX Only - What should I do if I was unable to upgrade </strong><strong>successfully to version 2.0 and I don’t have a standard, full system backup, just the </strong><strong>backup made during the upgrade?</strong></em>

You should have made a complete backup of your Post.Office system before upgrading (as instructed in the README.TXT and RELNOTES.TXT files). If you did not make a standard, full system backup as instructed, you will need to rely on the partial backup which was made during the upgrade.

Please be aware, however, that your mailbox directories and the executable directory were <em>not</em> included in the partial backup. The half-converted executable directory cannot be used; it should be replaced with the 1.9.3b version of the executables which can be downloaded directly from our ftp site. You can still use the mailbox directories, but with the following caution: those users whose mail clients utilize the POP3 command "last" (i.e. Zmail) may experience the re-downloading of mail stored on the server the first time that their client contacts the server after the restoration

After your system is restored and working, please contact Support@Software.com for assistance with the 2.0 upgrade.

<strong>Restoration Instructions for Solaris</strong><strong>:</strong>

To restore your system with the 1.9.3b version of Post.Office, you will need to:
<ol>
 	<li>Shutdown Post.Office
&lt;/opt&gt;/Post.Office shutdown</li>
 	<li>For safety’s sake please copy the existing, partially modified versions of the mailbox directories and the executables directory to another location before attempting restoration.</li>
 	<li>Remove the 2.0 executables with by typing: pkgrm SCOM-MTA</li>
 	<li>Copy the original file and then replace the half upgraded version of your MTA-Accounts file with the backup of the file made during upgrade. If you attempted to run the upgrade more that once, make sure to restore the "first" backup made so that you restore the working 1.9.3b version of your MTA-Accounts database file:
cd &lt;/var/spool/&gt;Post.Office/config
cp MTA-Accounts MTA-Accounts.bad2.0
cp MTA-Accounts.bak.yymmddhhmm MTA-Accounts

Note: You might run into ownership or permission problems if you didn’t back up or restore with the original permissions. It’s possible that executing a chown on the copied files and assigning ownership to your post.office user (mta) will be enough. (The standard permissions for UNIX are listed elsewhere in this FAQ for your review.)</li>
 	<li>Copy the original file and then replace the half upgraded version of your configuration files with the backup of the files made during the upgrade. You might have old ones there that you DON"T want to use, so only use the *.backup files with today’s date:
cd &lt;/var/spool/&gt;Post.Office/config

For each *.backup file with <em>today’s</em> date:

cp &lt;ServerModuleName&gt; &lt;ServerModuleName&gt;.bad2.0
cp &lt;ServerModuleName&gt;.backup &lt;ServerModuleName&gt;

Note: You might run into ownership or permission problems if you didn’t back up or restore with the original permissions. It’s possible that executing a chown on the copied files and assigning ownership to your post.office user (mta) will be enough. (The standard permissions for UNIX are listed elsewhere in this FAQ for your review.)</li>
 	<li>Download the 1.9.3b version of Post.Office for Solaris from our web site to a temporary directory.</li>
 	<li>Uncompress the file you downloaded and expand the resulting archive file to create the Post.Office package (SCOM-MTA) by typing:

cd /var/tmp/PO1.9.3b
uncompress post_office-solaris2-v1_9_3b_tar.Z
tar xvpf post_office-solaris2-v1_9_3b_tar</li>
 	<li>From the location in which you stored it, install the 1.9.3b package by typing:
pkgadd -d . SCOM-MTA

<strong>Caution:</strong> The upgrade program will ask if you wish to change configuration information. You should answer "no".</li>
 	<li>If you are currently using Program Delivery you will need to re-enable that feature by typing:
chmod u+s /opt/post.office/local/Program-Deliver
rm /opt/post.office/trusted/NO-PROGRAM-DELIVERIES

<strong>Caution:</strong> There are security issues associated with the use of Program Delivery. Please read Appendix G of the Post.Office manual to ensure you understand those issues before enabling this feature</li>
 	<li>Run the Post.Office configuration program: /opt/post.office/Install</li>
</ol>
This will restore your account information and upgrade your executables back to the 1.9.3b version of Post.Office.</section>
      <footer>
     
      </footer>
    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
		
  </body>
</html>
